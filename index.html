<!DOCTYPE html>
<html lang="en">

<head>
    <img src="https://www.i3indyatechnologies.com/iotchallenge2016/images/VIT.png" width="200" height="60">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator for Form</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>

    <style>
    
        .highlight-red {
            color: red;
            font-weight: bold;
            padding: 0 5px;
        }

        .highlight-green {
            color: green;
            font-weight: bold;
            padding: 0 5px;
        }
    
        .highlight-blue {
            color: blue;
            font-weight: bold;
            padding: 0 5px;
        }
    
        /* Style the body */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #FDF6E4;
        }

        /* Style the container for the form and QR code */
        .container, .container1, .container2, .container3, .container4, .container5, .container6, .container11 {
            max-width: 800px;
            margin: 0 auto 20px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .container9 {
            max-width: 1000px;
            margin: 0 auto 20px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #007BFF; /* Added border */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .container10{
            max-width: 700px;
            margin: 0 auto 20px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .container8{
            max-width:300px;
            margin: 0 auto 20px;
            background-color:#ffffff;
            border-radius:100px;
            border-style:solid;
            border-color:#ffc107;
        }

        .container7{
            max-width:780px;
            margin:0 auto 20px;
            background-color: #ffffff;
            border-radius:100px;
            border-style: solid;
            border-color:#007BFF;
        }

        .separator {
            border: 0;
            height: 8px; /* Increased height for a more substantial line */
            background: linear-gradient(to right, #00c6ff, #0072ff); /* Changed gradient color */
            margin: 40px 0;
            border-radius: 10px; /* More rounded corners */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Slightly darker shadow */
            position: relative;
            overflow: hidden;
        }
        
        .separator::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(255,255,255,0.3), rgba(255,255,255,0));
            transform: translateX(-100%);
            animation: slide 3s infinite;
        }
        
        @keyframes slide {
            to {
                transform: translateX(100%);
            }
        }

        h1 {
            text-align: center;
            color: #007BFF;
            margin-bottom: 20px;
        }

        /* Style the form input fields and labels */
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }

        input[type="text"],
        input[type="tel"],
        input[type="email"],
        input[type="date"],
        select {
            width: 95%;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
            margin-bottom: 15px;
        }

        /* Style the buttons */
        button {
            padding: 10px 20px;
            background-color: #007BFF;
            color: #ffffff;
            border-radius: 100px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* Style the QR code container */
    #qrcode {
    display: flex;
    justify-content: center;
    align-items: center;
    }

    #qrcode canvas {
    max-height: 100%; /* Adjust as needed */
    max-width: 100%;
    border: 2px solid #007BFF;
    border-radius: 8px;
    }


        h2 {
            font-family:"cornerstone" ;
            text-align: left;
            color: #000000;
        }
    </style>
<br>
<br>
    <div class="container7">
        <div>
          <p style = "font-size: 35px;text-align:center"> SSI Mini Project : QR Code Generator</p>  
        </div>
    </div>
    
    <div class="container6">
        <div>
            <h2><span class="highlight-red">Problem statement</span> : "Develop a product (like a wearable band etc) for senior citizens which will contain all the details about them specifically for individuals who have dementia and Alzheimer's".</h2>

    <h2><span class="highlight-green">Solution</span> : Generating a Quick Resopnse code to maintain the details about the senior citizen which will be printed on the wearable band.</h2>

    <h2><span class="highlight-blue">Team Name</span> : ETM416</h2>
        </div>
    </div>
    
    <div class="container8">
        <div>
            <p style ="font-size:30px;text-align:center;color:#FF7D29;font-weight:bold">Patient Data</p>
        </div>
    </div>
    
    <div class="container">
        <div>
            <h1>Personal Information</h1>
            <label for="name">Name:</label>
            <input type="text" id="name" placeholder="Enter your name">
        </div>
          
        <div>
            <label for="dob">DOB:</label>
            <input type="date" id="dob">
        </div>

        <div>
            <label for="gender">Gender:</label>
            <select name="gender" id="gender">
                <option value="">Please select one…</option>
                <option value="female">Female</option>
                <option value="male">Male</option>
                <option value="non-binary">Non-Binary</option>
                <option value="other">Other</option>
                <option value="Prefer not to answer">Prefer not to Answer</option>
            </select>
        </div>
          
        <div>
            <label for="address">Address:</label>
            <input type="text" id="address" placeholder="Current address">
        </div>
          
        <div>
            <label for="number">Phone number:</label>
            <input type="tel" id="number" placeholder="Enter phone number">
        </div>
            
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" placeholder="Enter your email">
        </div>
              
        <div>
            <label for="EmergContName">Emergency Contact Name:</label>
            <input type="text" id="EmergContName" placeholder="Care Taker's Name">
        </div>
               
        <div>
            <label for="relation">Relation:</label>
            <input type="text" id="relation" placeholder="Relation">
        </div>
               
        <div>
            <label for="EmergContNo">Emergency Contact Number:</label>
            <input type="tel" id="EmergContNo" placeholder="Emergency Contact Number">
        </div>
        
        <div>
            <label for="occupation">Occupation:</label>
            <input type="text" id="occupation" placeholder="Patient's Occupation">
        </div>
        
        <div>
            <label for="insurance">Insurance:</label>
            <input type="text" id="insurance" placeholder="Patient's insurance details">
        </div>

        <div>
            <label for="PatientHistory">Patient History:</label>
            <input type="text" id="PatientHistory" placeholder="History">
        </div>
    </div>

    <div class="container1">
        <h1>Medical History</h1>
        
        <div>
            <label for="prevmedcond">Previous Medical Conditions:</label>
            <input type="text" id="prevmedcond" placeholder="diabetes, hypertension, asthma, etc.">
        </div>
        
        <div>
            <label for="CurrentMedications">Current Medications:</label>
            <input type="text" id="CurrentMedications" placeholder="Over-the-counter drugs, prescription medications, and supplements, etc">
        </div>
        
        <div>
            <label for="Allergies">Allergies:</label>
            <input type="text" id="Allergies" placeholder="Allergies">
        </div>
        
        <div>
            <label for="PreviousSurgeriesHospitalizations">Previous Surgeries or Hospitalizations:</label>
            <input type="text" id="PreviousSurgeriesHospitalizations" placeholder="Surgeries">
        </div>
        
        <div>
            <label for="FamilyMedicalHistory">Family Medical History:</label>
            <input type="text" id="FamilyMedicalHistory" placeholder="Heart disease, cancer, etc.">
        </div>
    </div>    

    <div class="container2">
        <h1>Current Health Status</h1>
        <div>
            <label for="ReasonforVisit">Reason for Visit:</label>
            <input type="text" id="ReasonforVisit" placeholder="Current Complications">
        </div>
        
        <div>
            <label for="bloodtype">Blood Type:</label>
            <select name="bloodtype" id="bloodtype">
                <option value="">Please select one…</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
            </select>
        </div>
        
        <div>
            <label for="Symptoms">Symptoms:</label>
            <input type="text" id="Symptoms" placeholder="Fever, Vomit, etc">
        </div>
        
        <div>
            <label for="VitalSigns">Vital Signs:</label>
            <input type="text" id="VitalSigns" placeholder="Blood pressure, heart rate, temperature, respiratory rate, and blood oxygen saturation.">
        </div>
        
        <div>
            <label for="Pregnancy">Pregnancy:</label>
            <input type="text" id="Pregnancy" placeholder="Ongoing or chances">
        </div>
        
        <div>
            <label for="PhysicalExaminationoutcome">Physical Examination Result:</label>
            <input type="text" id="PhysicalExaminationoutcome" placeholder="Conclusion from Physical Examination">
        </div>
        
        <div>
            <label for="DiagnosticTests">Diagnostic Tests:</label>
            <input type="text" id="DiagnosticTests" placeholder="Blood tests,X-Ray,CT scan, etc.">
        </div>
    </div>
    
    <div class="container3">
        <h1>Lifestyle and Habits</h1>
        
        <div>
            <label for="TobaccoUse">Tobacco Use:</label>
            <input type="text" id="TobaccoUse" placeholder="Smoking or chewing tobacco and the frequency">
        </div>
        
        <div>
            <label for="AlcoholConsumption">Alcohol Consumption:</label>
            <input type="text" id="AlcoholConsumption" placeholder="Frequency and quantity of alcohol consumption">
        </div>
        
        <div>
            <label for="RecreationalDrugUse">Recreational Drug Use:</label>
            <input type="text" id="RecreationalDrugUse" placeholder="Use of recreational drugs">
        </div>
        
        <div>
            <label for="DietaryHabits">Dietary Habits:</label>
            <input type="text" id="DietaryHabits" placeholder="General diet and nutrition information">
        </div>
        
        <div>
            <label for="ExerciseRoutine">Exercise Routine:</label>
            <input type="text" id="ExerciseRoutine" placeholder="Patient's exercise routine and frequency">
        </div>
    </div>
        
    <div class="container4">
        <h1>Social and Psychological Factors</h1>
        
        <div>
            <label for="OccupationalHazards">Occupational Hazards:</label>
            <input type="text" id="OccupationalHazards" placeholder="Physical and chemical hazards, etc.">
        </div>
        
        <div>
            <label for="StressLevels">Stress Levels:</label>
            <input type="text" id="StressLevels" placeholder="Patient's stress levels and sources of stress">
        </div>
        
        <div>
            <label for="MentalHealthHistory">Mental Health History:</label>
            <input type="text" id="MentalHealthHistory" placeholder="Patient's mental health history and any ongoing conditions">
        </div>
        
        <div>
            <label for="SleepPatterns">Sleep Patterns:</label>
            <input type="text" id="SleepPatterns" placeholder="Patient's sleep patterns and any sleep disorders">
        </div>
    </div>

    <div class="container5">
        <h1>Additional Information</h1>
        
        <div>
            <label for="HealthcareProviders">Healthcare Providers:</label>
            <input type="text" id="HealthcareProviders" placeholder="Other healthcare providers involved in the patient's care.">
        </div>
        
        <div>
            <label for="AdvanceDirectives">Advance Directives:</label>
            <input type="text" id="AdvanceDirectives" placeholder="Living will or healthcare proxy.">
        </div>
        
        <div>
            <label for="SpecificInquiries">Specific Inquiries about Dementia and Alzheimer's:</label>
            <input type="text" id="SpecificInquiries" placeholder="As applicable.">
        </div>
        
    </div>

    <div>
            <button id="generate">Generate QR Code</button>
    </div>

    <div class="container9">
        <div>
            <div id="qrcode"></div>
        </div>
    </div>

    <div>
            <button id="download">Download QR Code</button>
    </div>
    
    <div class="container11">
    <label for="patientID">Patient ID:</label>
    <span id="patientID"></span>
    </div>
    
    <hr class="separator">

    <div class="container8">
        <div>
            <p style ="font-size:30px;text-align:center;color:#FF7D29;font-weight:bold">Search Patient Data</p>
        </div>
    </div>

    <div class="container11">
    <label for="search">Search by Patient ID:</label>
    <input type="text" id="search" placeholder="Enter Patient ID">
    <button id="searchButton">Search</button>
</div>

<div id="searchResultsContainer"></div>
<div class="container">
    <div id="searchResults"></div>
</div>
    <script>
    
        function generateID() {
        let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        let id = '';
        for (let i = 0; i < 8; i++) {
            id += characters.charAt(Math.floor(Math.random() * characters.length));
        }
        return id;
    }

    
        document.getElementById('generate').addEventListener('click', function () {
            let formData = {
                name: document.getElementById('name').value,
                dob: document.getElementById('dob').value,
                gender: document.getElementById('gender').value,
                address: document.getElementById('address').value,
                number: document.getElementById('number').value,
                email: document.getElementById('email').value,
                EmergContName: document.getElementById('EmergContName').value,
                relation: document.getElementById('relation').value,
                EmergContNo: document.getElementById('EmergContNo').value,
                occupation: document.getElementById('occupation').value,
                insurance: document.getElementById('insurance').value,
                PatientHistory: document.getElementById('PatientHistory').value,
                prevmedcond: document.getElementById('prevmedcond').value,
                CurrentMedications: document.getElementById('CurrentMedications').value,
                Allergies: document.getElementById('Allergies').value,
                PreviousSurgeriesHospitalizations: document.getElementById('PreviousSurgeriesHospitalizations').value,
                FamilyMedicalHistory: document.getElementById('FamilyMedicalHistory').value,
                ReasonforVisit: document.getElementById('ReasonforVisit').value,
                bloodtype: document.getElementById('bloodtype').value,
                Symptoms: document.getElementById('Symptoms').value,
                VitalSigns: document.getElementById('VitalSigns').value,
                Pregnancy: document.getElementById('Pregnancy').value,
                PhysicalExaminationoutcome: document.getElementById('PhysicalExaminationoutcome').value,
                DiagnosticTests: document.getElementById('DiagnosticTests').value,
                TobaccoUse: document.getElementById('TobaccoUse').value,
                AlcoholConsumption: document.getElementById('AlcoholConsumption').value,
                RecreationalDrugUse: document.getElementById('RecreationalDrugUse').value,
                DietaryHabits: document.getElementById('DietaryHabits').value,
                ExerciseRoutine: document.getElementById('ExerciseRoutine').value,
                OccupationalHazards: document.getElementById('OccupationalHazards').value,
                StressLevels: document.getElementById('StressLevels').value,
                MentalHealthHistory: document.getElementById('MentalHealthHistory').value,
                SleepPatterns: document.getElementById('SleepPatterns').value,
                HealthcareProviders: document.getElementById('HealthcareProviders').value,
                AdvanceDirectives: document.getElementById('AdvanceDirectives').value,
                SpecificInquiries: document.getElementById('SpecificInquiries').value, patientID: generateID()
            };
            
            document.getElementById('patientID').textContent = formData.patientID;
            
            localStorage.setItem(formData.patientID, JSON.stringify(formData));
            
            let qrCodeContainer = document.getElementById('qrcode');
            qrCodeContainer.innerHTML = '';
            
            let qrcode = new QRCode(qrCodeContainer, {
                text: JSON.stringify(formData),
                width: 1000,
                height: 1000,
                correctLevel: QRCode.CorrectLevel.H
            });
        });

        document.getElementById('download').addEventListener('click', function () {
            let qrCodeCanvas = document.querySelector('#qrcode canvas');
            if (qrCodeCanvas) {
                let link = document.createElement('a');
                link.href = qrCodeCanvas.toDataURL('image/png');
                link.download = 'qrcode.png';
                link.click();
            }
        });

	// Function to handle search by patient ID
document.getElementById('searchButton').addEventListener('click', function () {
    let searchValue = document.getElementById('search').value;
    let searchData = localStorage.getItem(searchValue);

    let searchResultsContainer = document.getElementById('searchResults');
    searchResultsContainer.innerHTML = '';

    if (searchData) {
        // Display the search results
        let searchResultsContainer = document.getElementById('searchResults');
        searchResultsContainer.innerHTML = '<h2>Search Results</h2>';
        let searchDataObject = JSON.parse(searchData);
        for (let key in searchDataObject) {
            searchResultsContainer.innerHTML += `<p><strong>${key}:</strong> ${searchDataObject[key]}</p>`;
        }
    } else {
        // If patient ID is not found
        let searchResultsContainer = document.getElementById('searchResults');
        searchResultsContainer.innerHTML = '<p>No patient found with this ID.</p>';
    }
});



    </script>
</body>

</html>
